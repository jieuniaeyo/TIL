## 2023 아키텍처

목적 조직마다 레거시 시스템을 복제해 가져간 후 각 조직이 스스로 점진적 개선

### 문제

- 아직까지도 레거시가 남아있는 조직이 남아있음

   국제화로 인해 레거시 개편이 우선순위에서 밀려남

- 트래픽 감소

   이미지 트래픽 감소 → 요청에 맞게 이미지 리사이징 및 캐시로 최적화 + avif 파일 포맷 변경 (트래픽 -60%)

   avif 파일 포맷 (고품질, 저용량) ⇒ jpeg에 비해 용량 50% 감소 혁신!

   JSON CDN Cache → API 응답 CDN 캐시 (DB/EC2 부하 감소, 어플리케이션 -70%, 로드밸런서 -50%)

   캐시 컨트롤 설정 주의!! (첫 로그인 사용자 데이터로 덮어질 수 있음)

- Next.js 개편

   프라이빗 API 외부 호출 가능 → api path 구분 (외부는 /client) + traefik으로 쿠키/헤더에 따라 분기

   프로젝트 분리 → 모든 인프라 2배 이벤트..

   모든 API 세션 체크 → 인프라 부하


# 넘어져도 앞으로 넘어지자!