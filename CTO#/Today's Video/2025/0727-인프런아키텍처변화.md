## 조직의 구조에 따른 레거시 개편

### 기존

기존 레포 → 신규 프론트/백엔드 레포

**but**

변하지 않음

**why**

비지니스 속도를 빠르게 하기 위해 조직 형태 변화

→ 하나의 목적을 가진 cell 조직 구성 (5)

⬇️

실행력과 제품 속도의 증가

장기적 제품 속도와 조직 안정감 감소

⬇️

### 문제

내부 코드 개선보다 제품 지표를 개선이 선순위가 됨

조직마다 지식의 편차

퇴사자의 발생

## 조직 개편

기존 cell + 역할을 묶은 part

모든 pr 단일 채널에서 공유

**but**

빌드 속도 증가

Commit 로그 혼합

서로 영향받는 QA

⇒ 1개의 레거시 + n개의 조직

⬇️

### 분할 정복

거대한 시스템을 복제해 작은 시스템으로 분할!

조직별 담당 기능만 남기고 나머지는 삭제

###  문제

- **인프라의 생성의 문제** 

  ⇒ pulumi 사용 (코드 품질, 단위 테스트)

- **1개의 도메인, n개의 프로젝트**

    ⇒ cloud front 사용 (다양한 사비스 라우팅 가능)

- **내부 api + public ip 통신이 많아짐, 다른 api의 성공 여부 고려**

  ⇒ public load balance + private load balance (트래픽 비용 감소, 네트워크 리소스 감소)

    ⇒ sns, sqs 비동기 처리 (도메인 의존성 분리, 최종적 일관성 보장) ** 트랜잭션이 필요할 경우 사용 X, 여러 로직이 비동기로 실행되어도 무방할 때 사용

- **단일 DB → 전체 조직 sync, sql 출처 모름, 중복된 도메인 클래스** 
  
  ⇒ 모든 DDL 단일 채널 공유, DB 계정을 분리 (문제되는 쿼리의 담당 확인 가능), 중복 도메인 클래스