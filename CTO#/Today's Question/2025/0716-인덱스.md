## Q. 본문을 전체 인덱싱하는게 맞을까?

### 이유
- 대부분의 블로그 서비스에서는 본문 검색 기능을 제공함
- 검색은 WHERE 절을 사용함
- 본문을 인덱싱하면 WHERE 하는 시간이 짧아지지 않을까?

---

## A. 본문 전체를 인덱싱 하지 않는다

### 이유
- 본문 전체를 인덱싱하게 되면 구조적으로도, 성능적으로도 안 좋음
- LIKE 절은 인덱스를 타지 않는 경우도 있음
  
  - `WHERE CONTENT LIKE '사과%'`와 같이 특정 문자로 시작하는 문자열을 탐색할 시 인덱스 사용 가능
  - `WHERE CONTENT LIKE '%사과%'`나  `WHERE CONTENT LIKE '%사과'`와 같이 와일드카드가 먼저 올 시 인덱스를 효율적으로 사용하기 어려워 전체 테이블 스캔이 일어날 수 있음

### 대안
- 검색하려는 제목, 사용자, 본문 내용, 게시글 ID를 엘라스틱 서치에 저장하고, 검색 자체를 엘라스틱서치를 통해서 함
- 검색 결과 게시글 ID를 받아 데이터베이스에서 필요한 정보를 반환